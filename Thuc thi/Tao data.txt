create table nguoidung(	username char(20) not null,	ngaysinh date check (datediff(dd,convert(date,getdate()), ngaysinh) > 6) not null,	ngaytaotaikhoan	date check (datediff(dd,convert(date,getdate()), ngaytaotaikhoan) > 0) not null,	diachi	nvarchar(100) not null,	hoten	nvarchar(40) not null,	gioitinh char(3),	constraint pk_nguoidung	primary key(username))go	create table hocvien(	usernamehv char(20) not null,	sokhoadangky int default 0,	constraint pk_hocvien	primary key(usernamehv),	constraint fk_hocvien_nguoidung	foreign key(usernamehv) references nguoidung(username))go	create table giaovien(	usernamegv char(20) not null,	bangcap nvarchar(15),	constraint pk_giaovien	primary key(usernamegv),	constraint fk_giaovien_nguoidung	foreign key(usernamegv) references nguoidung(username))go	create table quantrivien(	usernameqtv char(20) not null,	ngayvaolam date check (datediff(dd, convert(date,getdate()),ngayvaolam) > 0),	usernameqlqtv char(20) ,	constraint pk_quantrivien	primary key(usernameqtv),	constraint fk_quantrivienqlqtv_quantrivien foreign key(usernameqlqtv) references quantrivien(usernameqtv),	constraint fk_quantrivien_nguoidung foreign key(usernameqlqtv) references nguoidung(username))go	----1 den 4create table baitest (	idtest char(20) not null , 	cauhoi nvarchar not null,	ngaytaocauhoi date not null,	idhocphan char(20) not null,	constraint pk_baitest primary key(idtest),	constraint fk_baitest_hocphan_idhp foreign key (idhocphan) references hocphan(idhocphan))gocreate table tracnghiem(	idtracnghiem char(20) not null ,	caudung ntext not null,	constraint pk_tracnghiem primary key(idtracnghiem),	constraint fk_tracnghiem_baitest_idtest foreign key (idtracnghiem) references baitest(idtest));create table tuluan(	idtuluan char(20) not null,	loigiai nvarchar not null,	constraint pk_tuluan primary key (idtuluan),	constraint fk_tuluan_baitest_idtest foreign key (idtuluan) references baitest (idtest));create table hoadon(	idhoadon char(20) not null ,	hinhthucthanhtoan varchar(40) not null,	sotienthanhtoan int check(sotienthanhtoan>0),	ngaytaohd date not null,	usernamehv char(20) not null,	idkhoahoc char(20) not null,	idvi char(20) not null,	constraint fk_hoadon_giaovien_username foreign key (usernamehv) references giaovien (usernamegv),	constraint fk_hoadon_khoahoc_idkh foreign key (idkhoahoc) references khoahoc (idkhoahoc),	constraint fk_hoadon_vidientu_idv foreign key (idvi) references vidientu (idvi),	constraint pk_hoadon primary key (idhoadon));----5 den 8create table vidientu (	idvi char(20) not null ,	sotienhientai int check(sotienhientai >= 0),	ngaytaovi date not null default convert(date,getdate()),	usernamegv char(20) not null,	constraint fk_vidientu foreign key (usernamegv) references giaovien(usernamegv),	constraint pk_vidientu primary key (idvi))gocreate table giaodich(	idgiaodich char(20) not null ,	sotienrut int check(sotienrut>1000),	ngayrut date not null default convert(date,getdate()),	idvi char(20) not null,	usernamegv char(20) not null,	constraint pk_giaodich primary key (idgiaodich),	constraint fk_giaodich_vidientu foreign key (idvi) references  vidientu(idvi),	constraint fk_giaodich_giaovien foreign key (idvi) references  giaovien(usernamegv))gocreate table khoahoc(	idkhoahoc char(20) not null,	tenkhoahoc varchar(40),	thoiluong int,	hocphi int,	motakhoahoc nvarchar,	usernamegv char(20) not null ,	usernameqtv char(20) not null ,	constraint pk_khoahoc primary key (idkhoahoc),	constraint fk_khoahoc_giaovien foreign key (usernamegv) references giaovien(usernamegv),	constraint fk_khoahoc_quantrivien foreign key (usernameqtv) references quantrivien(usernameqtv))gocreate table hocphan(	idhocphan char(20) not null ,	motahocphan nvarchar,	idkhoahoc char(20) not null ,	constraint pk_hocphan primary key (idhocphan),	constraint fk_hocphan_khoahoc foreign key (idkhoahoc) references khoahoc(idkhoahoc));create table tailieu(	idtailieu char(20) not null ,	tentailieu nvarchar,	link varchar,	ngaydangtailieu date default convert(date,getdate())  ,	usernamegv char(20) not null ,	idhocphan char(20) not null ,	constraint pk_tailieu primary key (idtailieu),	constraint fk_tailieu_giaovien foreign key (usernamegv)  references giaovien(usernamegv),	constraint fk_tailieu_hocphan foreign key (idhocphan) references hocphan(idhocphan))go---9 den 13create table chude (	idchude char(20)  not null,	tenchude nvarchar not null,	constraint pk_chude primary key (idchude),);create table nguoithan (	idnguoithan char(20) not null,	usernamehv char(20) not null,	hotennguoithan nvarchar(50) not null,	gioitinhnguoithan char(3) not null, 	ngaysinhnguoithan date check (datediff(dd,convert(date,getdate()), ngaysinhnguoithan) > 18),	quanhe nchar(10) not null,	diachinguoithan nvarchar(100) not null,	constraint  pk_nguoithan primary key (idnguoithan, usernamehv),	constraint fk_nguoithan_hocvien foreign key (usernamehv) references hocvien(usernamehv));create table lamkiemtra (	idtest char(20) not null,	usernamehv char(20) not null,	dat bit not null,	bailam nvarchar not null,	ngaylam date null,	constraint pk_lamkiemtra primary key (idtest,usernamehv),	constraint fk_lamkiemtra_hocvien foreign key (usernamehv) references hocvien(usernamehv),	constraint fk_lamkiemtra_baitest foreign key (idtest) references baitest(idtest));create table danhgia (	idkhoahoc char(20) not null,	usernamehv char(20) not null,	noidungdanhgia nvarchar,	ngaydanhgia date not null, 	diemdanhgia int,	constraint pk_danhgia primary key (idkhoahoc, usernamehv),	constraint fk_danhgia_khoahoc foreign key (idkhoahoc) references khoahoc(idkhoahoc),	constraint fk_danhgia_hocvien foreign key (usernamehv) references hocvien(usernamehv)	);create table dangki (	idkhoahoc char(20) not null,	usernamehv char(20) not null,	ngaydangky date not null,	dat bit ,	constraint pk_dangki primary key (idkhoahoc, usernamehv),	constraint fk_dangki_khoahoc foreign key (idkhoahoc) references khoahoc(idkhoahoc),	constraint fk_dangki_hocvien foreign key (usernamehv) references hocvien(usernamehv)	);---14 den 18create table thuocchude(	idkhoahoc char(20) not null,	idchude char(20) not null,	constraint pk_thuocchude primary key(idkhoahoc, idchude),	constraint fk_thuocchude_khoahoc foreign key(idkhoahoc) references khoahoc(idkhoahoc),	constraint fk_thuocchude_chude foreign key(idchude) references chude(idchude),)go	create table useremail(	username char(20) not null,	email char(30) not null,	constraint fk_useremail_nguoidung foreign key(username) references nguoidung(username),	constraint pk_useremail primary key(username, email))go	create table usersdt(	username char(20) not null,	sdt char(20) not null,	constraint fk_usersdt_nguoidung foreign key(username) references nguoidung(username),	constraint pk_usersdt primary key(username, sdt))go	create table nguoithansdt(	usernamehv char(20) not null,	idnguoithan char(20) not null,	nguoithansdt char(20) not null ,	constraint fk_nguoithansdt_hocvien foreign key(usernamehv) references hocvien(usernamehv),	constraint fk_nguoithansdt_nguoithan foreign key(idnguoithan,usernamehv) references nguoithan(idnguoithan,usernamehv),	constraint pk_nguoithansdt primary key(usernamehv, idnguoithan, nguoithansdt))